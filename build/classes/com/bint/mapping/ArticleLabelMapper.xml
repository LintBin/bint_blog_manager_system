<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.bint.mapper.ArticleLabelMapper">
	<resultMap type="com.bint.model.ArticleLabelModel" id="articleLabelResultInfo">
		<result column="labelId" property="labelId" />
		<result column="labelName" property="labelName" />
		<result column="articleId" property="articleId" />
		<result column="articleHeadline" property="articleHeadline" />
	</resultMap> 
	
	
	 <insert id="add" parameterType="com.bint.model.ArticleLabelModel">
		insert into 
			BLOG_label_article (articleId,labelId)
		value(
			#{articleId},
			#{labelId}
		)
	 </insert>
	
	 <select id="getLabelListByArticleId" resultType="com.bint.model.ArticleLabelModel" parameterType="Long">
		SELECT
			l.id labelId,
			l.labelName labelName,
			a.id articleId,
			a.headline articleHeadline
		FROM
			Blog_article AS a
		JOIN BLOG_label_article AS la ON a.id = la.articleId
		JOIN blog_label AS l ON l.id = la.labelId
		WHERE
			la.articleId = #{id}
	</select>
	
	 <select id="delete" parameterType="com.bint.model.ArticleLabelModel">
		delete from
			BLOG_label_article
		where 
			articleId = #{articleId} and labelId=#{labelId}
	 </select>
	 
</mapper>